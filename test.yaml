metadata:
    format: Lava-Test Test 
    name: test
    description: "Basic lava test"
    maintainer:
    os:
        - Linux
    scope:
        - functional
    devices:
        - imx6dl-sabresd
install:
    git-repos:
        - https://github.com/eslover/sandbox-test

run:
    steps:

        - lava-test-case TGE-LV-KERNEL-SMP-0002 --shell ./scripts/lava-vte.sh [ $(cat /proc/cpuinfo | grep processor | wc -l ) -eq 2 ]
        - lava-test-case TGE-LV-V4L2-0010 --shell ./scripts/lava-vte.sh v4l_capture_testapp -T 10
        - lava-test-case TGE-LV-VPU-0001 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 1
        - lava-test-case TGE-LV-VPU-0002 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 2
        - lava-test-case TGE-LV-VPU-0004 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 4
        - lava-test-case TGE-LV-VPU-0005 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 5
        - lava-test-case TGE-LV-VPU-0006 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 6
        - lava-test-case TGE-LV-VPU-0007 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 7
        - lava-test-case TGE-LV-VPU-0008 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 8
        - lava-test-case TGE-LV-VPU-1011 --shell ./scripts/lava-vte.sh vpu_multi_dec_test.sh 1
        - lava-test-case TGE-LV-VPU-0009 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 9
        - lava-test-case TGE-LV-VPU-1010 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 10
        - lava-test-case TGE-LV-VPU-0010 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 11
        - lava-test-case TGE-LV-VPU-1012 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 12
        - lava-test-case TGE-LV-VPU-1013 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 13
        - lava-test-case TGE-LV-VPU-1015 --shell ./scripts/lava-vte.sh vpu_multi_dec_test.sh 2
        - lava-test-case TGE-LV-VPU-1016 --shell ./scripts/lava-vte.sh vpu_multi_dec_test.sh 3
        - lava-test-case TGE-LV-VPU-20002 --shell ./scripts/lava-vte.sh vpu_app_test.sh 2
        - lava-test-case TGE-LV-VPU-1017 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 15
        - lava-test-case TGE-LV-VPU-1018 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 16
        - lava-test-case TGE-LV-VPU-CLOCK-0001 --shell ./scripts/lava-vte.sh clk.sh vpu
        - lava-test-case TGE-LV-VPU-1019 --shell ./scripts/lava-vte.sh 'vdoa=`find /sys/ -name "mxc_vdoa"` && cat $vdoa/*.vdoa/modalias && cat $vdoa/*.vdoa/uevent'
        - lava-test-case TGE-LV-VPU-1025 --shell ./scripts/lava-vte.sh vpu_performance.sh 3
        - lava-test-case TGE-LV-VPU-0016 --shell ./scripts/lava-vte.sh vpu_dec_test.sh 16
        - lava-test-case TGE-LV-VPU-2013 --shell ./scripts/lava-vte.sh '/unit_tests/mxc_vpu_test.out -D  "-i /mnt/nfs/test_stream/video/TB_to_BT.mpeg2 -f 4"  && /unit_tests/mxc_vpu_test.out -D  "-i /mnt/nfs/test_stream/video/TB_to_BT.mpeg2 -f 4" | grep "total fps=" | grep 30'
        - lava-test-case TGE-LV-VPU-10000 --shell ./scripts/lava-vte.sh vpu_enc_test.sh 1
        - lava-test-case TGE-LV-VPU-10010 --shell ./scripts/lava-vte.sh vpu_enc_test.sh 2
        - lava-test-case TGE-LV-VPU-10020 --shell ./scripts/lava-vte.sh vpu_enc_test.sh 3
        - lava-test-case TGE-LV-VPU-10030 --shell ./scripts/lava-vte.sh vpu_enc_test.sh 4
        - lava-test-case TGE-LV-VPU-10040 --shell ./scripts/lava-vte.sh vpu_enc_test.sh 5
        - lava-test-case TGE-LV-VPU-10210 --shell ./scripts/lava-vte.sh vpu_multi_enc_test.sh 1
        - lava-test-case TGE-LV-VPU-10220 --shell ./scripts/lava-vte.sh  vpu_multi_enc_test.sh 2
        - lava-test-case TGE-LV-VPU-1020 --shell ./scripts/lava-vte.sh vpu_pm_test.sh 1
        - lava-test-case TGE-LV-VPU-1030 --shell ./scripts/lava-vte.sh vpu_pm_test.sh 2
        - lava-test-case TGE-LV-VPU-10221 --shell ./scripts/lava-vte.sh  vpu_multi_enc_test.sh 3
        - lava-test-case TGE-LV-VPU-2020 --shell ./scripts/lava-vte.sh power_test_vpu.sh 1
        - lava-test-case TGE-LV-VPU-2022 --shell ./scripts/lava-vte.sh power_test_vpu.sh 3
        - lava-test-case TGE-LV-IPU_DEV-0010 --shell ./scripts/lava-vte.sh ipu_test.sh 1
        - lava-test-case TGE-LV-IPU_DEV-0020 --shell ./scripts/lava-vte.sh ipu_test.sh 2
        - lava-test-case TGE-LV-IPU_DEV-0030 --shell ./scripts/lava-vte.sh ipu_test.sh 3
        - lava-test-case TGE-LV-IPU_DEV-0040 --shell ./scripts/lava-vte.sh ipu_test.sh 4
        - lava-test-case TGE-LV-GPU-XEGL-Stress-0001 --shell ./scripts/lava-vte.sh glesx_viv.sh 7
parse:
    pattern: "[ a-zA-Z]+ (?P<test_case_id>[a-zA-Z0-9]+):\\s(?P<result>PASS|FAIL|SKIP)"
